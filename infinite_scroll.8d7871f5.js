!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequired7c6=i);var a,o=i("bpxeT"),c=i("2TvXO"),u=i("iU1Pc"),s=i("dIxxU"),f=i("5IjG7"),l=i("l5bVx"),p="Expected a function",d=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,b=/^0o[0-7]+$/i,h=parseInt,y="object"==typeof n&&n&&n.Object===Object&&n,g="object"==typeof self&&self&&self.Object===Object&&self,w=y||g||Function("return this")(),x=Object.prototype.toString,k=Math.max,T=Math.min,j=function(){return w.Date.now()};function L(e,n,t){var r,i,a,o,c,u,s=0,f=!1,l=!1,d=!0;if("function"!=typeof e)throw new TypeError(p);function v(n){var t=r,a=i;return r=i=void 0,s=n,o=e.apply(a,t)}function m(e){return s=e,c=setTimeout(h,n),f?v(e):o}function b(e){var t=e-u;return void 0===u||t>=n||t<0||l&&e-s>=a}function h(){var e=j();if(b(e))return y(e);c=setTimeout(h,function(e){var t=n-(e-u);return l?T(t,a-(e-s)):t}(e))}function y(e){return c=void 0,d&&r?v(e):(r=i=void 0,o)}function g(){var e=j(),t=b(e);if(r=arguments,i=this,u=e,t){if(void 0===c)return m(u);if(l)return c=setTimeout(h,n),v(u)}return void 0===c&&(c=setTimeout(h,n)),o}return n=E(n)||0,O(t)&&(f=!!t.leading,a=(l="maxWait"in t)?k(E(t.maxWait)||0,n):a,d="trailing"in t?!!t.trailing:d),g.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=u=i=c=void 0},g.flush=function(){return void 0===c?o:y(j())},g}function O(n){var t=void 0===n?"undefined":e(l)(n);return!!n&&("object"==t||"function"==t)}function E(n){if("number"==typeof n)return n;if(function(n){return"symbol"==(void 0===n?"undefined":e(l)(n))||function(e){return!!e&&"object"==typeof e}(n)&&"[object Symbol]"==x.call(n)}(n))return NaN;if(O(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=O(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(d,"");var r=m.test(n);return r||b.test(n)?h(n.slice(2),r?2:8):v.test(n)?NaN:+n}a=function(e,n,t){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(p);return O(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),L(e,n,{leading:r,maxWait:n,trailing:i})};var N="30262490-03bcd09aff61aef6d7939f62f",q="https://pixabay.com/api/",H=1,M=40,S=0,U=!1,_=!0,D=document.querySelector("#search-form"),W=document.querySelector("input"),z=document.querySelector(".gallery");function I(e,n){return R.apply(this,arguments)}function R(){return(R=e(o)(e(c).mark((function n(t,r){var i,a,o;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={params:{key:N,q:"".concat(t),image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:M,page:r},headers:{"Content-Type":"application/json"}},n.next=3,e(s).get(q,i);case 3:return a=n.sent,o=a.data,n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function $(){return($=e(o)(e(c).mark((function n(t){var r,i,o,s;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),z.innerHTML="",U=!1,_=!0,r=t.currentTarget.elements.safesearch.value.trim(),n.prev=5,n.next=8,I(r);case 8:if(i=n.sent,o=i.hits,s=i.totalHits,0!==o.length){n.next=15;break}e(u).Notify.failure("Sorry, there are no images matching your search query. Please try again."),n.next=20;break;case 15:if(""!==r){n.next=19;break}return n.abrupt("return");case 19:e(u).Notify.success("Hooray! We found ".concat(s," images."),{timeout:3e3,position:"left-top"}),P(o),new(e(f))(".gallery a",{}),S=M,H=1,window.addEventListener("scroll",e(a)(V,250)),window.addEventListener("resize",e(a)(V,250));case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(5),console.log(n.t0.message);case 25:case"end":return n.stop()}}),n,null,[[5,22]])})))).apply(this,arguments)}function C(){return F.apply(this,arguments)}function F(){return(F=e(o)(e(c).mark((function n(){var t,r,i;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=W.value,n.prev=1,!U&&_){n.next=4;break}return n.abrupt("return");case 4:return U=!0,H+=1,S+=M,n.next=9,I(t,H);case 9:if(r=n.sent,i=r.hits,!(r.totalHits<=S)){n.next=19;break}return e(u).Notify.info("We're sorry, but you've reached the end of search results."),G(i),window.removeEventListener("scroll",e(a)(V,250)),window.removeEventListener("resize",e(a)(V,250)),_=!1,n.abrupt("return");case 19:G(i),U=!1,n.next=26;break;case 23:n.prev=23,n.t0=n.catch(1),console.log(n.t0.message);case 26:case"end":return n.stop()}}),n,null,[[1,23]])})))).apply(this,arguments)}function P(e){var n=e.map((function(e){var n=e.webformatURL,t=e.largeImageURL,r=e.tags,i=e.likes,a=e.views,o=e.comments,c=e.downloads;return'<div class="photo-card">\n      <a class=\'link\' href="'.concat(t,'">\n      <img src="').concat(n,'" alt="').concat(r,'" loading="lazy" width=\'200\' height=\'140\' />\n  <div class="info">\n    <p class="info-item">\n      <b>Likes</b> ').concat(i,'\n    </p>\n    <p class="info-item">\n      <b>Views</b> ').concat(a,'\n    </p>\n    <p class="info-item">\n      <b>Comments</b> ').concat(o,'\n    </p>\n    <p class="info-item">\n      <b>Downloads</b> ').concat(c,"\n    </p>\n  </div>\n      </a>\n  </div>")})).join("");z.insertAdjacentHTML("beforeend",n)}function V(){return A.apply(this,arguments)}function A(){return(A=e(o)(e(c).mark((function n(){var t,r,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.body.offsetHeight,r=window.innerHeight,i=window.scrollY,!(i+r>=t-r/4)){e.next=14;break}return e.prev=6,e.next=9,C();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0.message);case 14:case"end":return e.stop()}}),n,null,[[6,11]])})))).apply(this,arguments)}function G(n){P(n);new(e(f))(".gallery a")}D.addEventListener("submit",(function(e){return $.apply(this,arguments)}))}();
//# sourceMappingURL=infinite_scroll.8d7871f5.js.map
